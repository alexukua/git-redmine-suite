#!/bin/bash

function redmine_set_status
{
    PROGRESS="-1"
    [ "x$2" == "x$REDMINE_REVIEW_TODO" ] && PROGRESS="100"
    if [ "x$4" == "x" ]
    then
        /usr/local/share/Git-Redmine-Suite/helpers/redmine-set-status-id --id="$1" --status_id="$2" --assigned_to_id="$3" --progress="$PROGRESS" --auth_key="$REDMINE_AUTHKEY" --server_url="$REDMINE_URL" 2> /dev/null
    else
        /usr/local/share/Git-Redmine-Suite/helpers/redmine-set-status-id --id="$1" --status_id="$2" --assigned_to_id="$3" --notes="$4" --progress="$PROGRESS" --auth_key="$REDMINE_AUTHKEY" --server_url="$REDMINE_URL" 2> /dev/null
    fi
    /usr/local/share/Git-Redmine-Suite/helpers/redmine-check-task --id="$1" --auth_key="$REDMINE_AUTHKEY" --server_url="$REDMINE_URL" --status_ids="$2" --assigned_to="$3" --message "DEFAULT" 2> /dev/null
}

